"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[504],{3504:function(e,t,l){l.r(t),l.d(t,{default:function(){return St}});var o=l(9545),a=(l(51),l(5331)),n=(l(9041),l(6305)),i=(l(1958),l(368),l(6742),l(6196),l(2666),l(1404)),r=l(3396),s=l(4870),c=l(2220),u=l(5323),d=l(6048),m=l(5322),v=l(7936),p=(l(7658),l(610));const[f,h,g]=(0,p["do"])("picker"),b=e=>e.find((e=>!e.disabled))||e[0];function w(e,t){const l=e[0];if(l){if(Array.isArray(l))return"multiple";if(t.children in l)return"cascade"}return"default"}function x(e,t){t=(0,d.uZ)(t,0,e.length);for(let l=t;l<e.length;l++)if(!e[l].disabled)return l;for(let l=t-1;l>=0;l--)if(!e[l].disabled)return l;return 0}const y=(e,t,l)=>void 0!==t&&!!e.find((e=>e[l.value]===t));function W(e,t,l){const o=e.findIndex((e=>e[l.value]===t)),a=x(e,o);return e[a]}function C(e,t,l){const o=[];let a={[t.children]:e},n=0;while(a&&a[t.children]){const e=a[t.children],i=l.value[n];if(a=(0,c.Xq)(i)?W(e,i,t):void 0,!a&&e.length){const l=b(e)[t.value];a=W(e,l,t)}n++,o.push(e)}return o}function k(e){const{transform:t}=window.getComputedStyle(e),l=t.slice(7,t.length-1).split(", ")[5];return Number(l)}function S(e){return(0,c.l7)({text:"text",value:"value",children:"children"},e)}var I=l(253),O=l(3444),P=l(2229),H=l(5261);const F=200,B=300,V=15,[R,T]=(0,p["do"])("picker-column"),Z=Symbol(R);var z=(0,r.aZ)({name:R,props:{value:u.Or,fields:(0,u.ir)(Object),options:(0,u.Ce)(),readonly:Boolean,allowHtml:Boolean,optionHeight:(0,u.ir)(Number),swipeDuration:(0,u.ir)(u.Or),visibleOptionNum:(0,u.ir)(u.Or)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:l}){let o,a,n,i,c;const u=(0,s.iH)(),m=(0,s.iH)(),p=(0,s.iH)(0),f=(0,s.iH)(0),h=(0,H.o)(),g=()=>e.options.length,b=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,w=l=>{let a=x(e.options,l);const n=-a*e.optionHeight,i=()=>{a>g()-1&&(a=x(e.options,l));const o=e.options[a][e.fields.value];o!==e.value&&t("change",o)};o&&n!==p.value?c=i:i(),p.value=n},y=()=>e.readonly||!e.options.length,W=l=>{o||y()||(c=null,f.value=F,w(l),t("clickOption",e.options[l]))},C=t=>(0,d.uZ)(Math.round(-t/e.optionHeight),0,g()-1),S=(0,r.Fl)((()=>C(p.value))),P=(t,l)=>{const o=Math.abs(t/l);t=p.value+o/.003*(t<0?-1:1);const a=C(t);f.value=+e.swipeDuration,w(a)},R=()=>{o=!1,f.value=0,c&&(c(),c=null)},z=e=>{if(!y()){if(h.start(e),o){const e=k(m.value);p.value=Math.min(0,e-b())}f.value=0,a=p.value,n=Date.now(),i=a,c=null}},Y=l=>{if(y())return;h.move(l),h.isVertical()&&(o=!0,(0,v.PF)(l,!0));const r=(0,d.uZ)(a+h.deltaY.value,-g()*e.optionHeight,e.optionHeight),s=C(r);s!==S.value&&t("scrollInto",e.options[s]),p.value=r;const c=Date.now();c-n>B&&(n=c,i=r)},L=()=>{if(y())return;const e=p.value-i,t=Date.now()-n,l=t<B&&Math.abs(e)>V;if(l)return void P(e,t);const a=C(p.value);f.value=F,w(a),setTimeout((()=>{o=!1}),0)},$=()=>{const t={height:`${e.optionHeight}px`};return e.options.map(((o,a)=>{const n=o[e.fields.text],{disabled:i}=o,s=o[e.fields.value],c={role:"button",style:t,tabindex:i?-1:0,class:[T("item",{disabled:i,selected:s===e.value}),o.className],onClick:()=>W(a)},u={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:n};return(0,r.Wm)("li",c,[l.option?l.option(o,a):(0,r.Wm)("div",u,null)])}))};return(0,I.NB)(Z),(0,O.F)({stopMomentum:R}),(0,r.m0)((()=>{const t=o?Math.floor(-p.value/e.optionHeight):e.options.findIndex((t=>t[e.fields.value]===e.value)),l=x(e.options,t),a=-l*e.optionHeight;o&&l<t&&R(),p.value=a})),(0,I.OR)("touchmove",Y,{target:u}),()=>(0,r.Wm)("div",{ref:u,class:T(),onTouchstartPassive:z,onTouchend:L,onTouchcancel:L},[(0,r.Wm)("ul",{ref:m,style:{transform:`translate3d(0, ${p.value+b()}px, 0)`,transitionDuration:`${f.value}ms`,transitionProperty:f.value?"all":"none"},class:T("wrapper"),onTransitionend:R},[$()])])}});const[Y]=(0,p["do"])("picker-toolbar"),L={title:String,cancelButtonText:String,confirmButtonText:String},$=["cancel","confirm","title","toolbar"],N=Object.keys(L);var U=(0,r.aZ)({name:Y,props:L,emits:["confirm","cancel"],setup(e,{emit:t,slots:l}){const o=()=>l.title?l.title():e.title?(0,r.Wm)("div",{class:[h("title"),"van-ellipsis"]},[e.title]):void 0,a=()=>t("cancel"),n=()=>t("confirm"),i=()=>{const t=e.cancelButtonText||g("cancel");return(0,r.Wm)("button",{type:"button",class:[h("cancel"),m.e9],onClick:a},[l.cancel?l.cancel():t])},s=()=>{const t=e.confirmButtonText||g("confirm");return(0,r.Wm)("button",{type:"button",class:[h("confirm"),m.e9],onClick:n},[l.confirm?l.confirm():t])};return()=>(0,r.Wm)("div",{class:h("toolbar")},[l.toolbar?l.toolbar():[i(),o(),s()]])}});const j=(e,t)=>{const l=(0,s.iH)(e());return(0,r.YP)(e,(e=>{e!==l.value&&(l.value=e)})),(0,r.YP)(l,(l=>{l!==e()&&t(l)})),l};var J=l(9242),X=l(7139),A=l(9951);function D(e,t,l){let o,a=0;const n=e.scrollLeft,i=0===l?1:Math.round(1e3*l/16);function r(){(0,I.$d)(o)}function s(){e.scrollLeft+=(t-n)/i,++a<i&&(o=(0,I.Wn)(s))}return s(),r}function E(e,t,l,o){let a,n=(0,v.cx)(e);const i=n<t,r=0===l?1:Math.round(1e3*l/16),s=(t-n)/r;function c(){(0,I.$d)(a)}function u(){n+=s,(i&&n>t||!i&&n<t)&&(n=t),(0,v.QU)(e,n),i&&n<t||!i&&n>t?a=(0,I.Wn)(u):o&&(a=(0,I.Wn)(o))}return u(),c}var q=l(6401),M=l(6014);function G(){const e=(0,s.iH)([]),t=[];(0,r.Xn)((()=>{e.value=[]}));const l=l=>(t[l]||(t[l]=t=>{e.value[l]=t}),t[l]);return[e,l]}var Q=l(648);function _(e,t){if(!c._f||!window.IntersectionObserver)return;const l=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),o=()=>{e.value&&l.observe(e.value)},a=()=>{e.value&&l.unobserve(e.value)};(0,r.se)(a),(0,r.Jd)(a),(0,I.Ib)(o)}const[K,ee]=(0,p["do"])("sticky"),te={zIndex:u.Or,position:(0,u.SQ)("top"),container:Object,offsetTop:(0,u.SI)(0),offsetBottom:(0,u.SI)(0)};var le=(0,r.aZ)({name:K,props:te,emits:["scroll","change"],setup(e,{emit:t,slots:l}){const o=(0,s.iH)(),a=(0,I.eo)(o),n=(0,s.qj)({fixed:!1,width:0,height:0,transform:0}),i=(0,s.iH)(!1),u=(0,r.Fl)((()=>(0,d.LU)("top"===e.position?e.offsetTop:e.offsetBottom))),m=(0,r.Fl)((()=>{if(i.value)return;const{fixed:e,height:t,width:l}=n;return e?{width:`${l}px`,height:`${t}px`}:void 0})),p=(0,r.Fl)((()=>{if(!n.fixed||i.value)return;const t=(0,c.l7)((0,d.As)(e.zIndex),{width:`${n.width}px`,height:`${n.height}px`,[e.position]:`${u.value}px`});return n.transform&&(t.transform=`translate3d(0, ${n.transform}px, 0)`),t})),f=e=>t("scroll",{scrollTop:e,isFixed:n.fixed}),h=()=>{if(!o.value||(0,v.xj)(o))return;const{container:t,position:l}=e,a=(0,I.EL)(o),i=(0,v.cx)(window);if(n.width=a.width,n.height=a.height,"top"===l)if(t){const e=(0,I.EL)(t),l=e.bottom-u.value-n.height;n.fixed=u.value>a.top&&e.bottom>0,n.transform=l<0?l:0}else n.fixed=u.value>a.top;else{const{clientHeight:e}=document.documentElement;if(t){const l=(0,I.EL)(t),o=e-l.top-u.value-n.height;n.fixed=e-u.value<a.bottom&&e>l.top,n.transform=o<0?-o:0}else n.fixed=e-u.value<a.bottom}f(i)};return(0,r.YP)((()=>n.fixed),(e=>t("change",e))),(0,I.OR)("scroll",h,{target:a,passive:!0}),_(o,h),(0,r.YP)([v.bn,v.uK],(()=>{o.value&&!(0,v.xj)(o)&&n.fixed&&(i.value=!0,(0,r.Y3)((()=>{const e=(0,I.EL)(o);n.width=e.width,n.height=e.height,i.value=!1})))})),()=>{var e;return(0,r.Wm)("div",{ref:o,style:m.value},[(0,r.Wm)("div",{class:ee({fixed:n.fixed&&!i.value}),style:p.value},[null==(e=l.default)?void 0:e.call(l)])])}}});const oe=(0,i.n)(le);var ae=l(8620);const[ne,ie]=(0,p["do"])("tabs");var re=(0,r.aZ)({name:ne,props:{count:(0,u.ir)(Number),inited:Boolean,animated:Boolean,duration:(0,u.ir)(u.Or),swipeable:Boolean,lazyRender:Boolean,currentIndex:(0,u.ir)(Number)},emits:["change"],setup(e,{emit:t,slots:l}){const o=(0,s.iH)(),a=e=>t("change",e),n=()=>{var t;const n=null==(t=l.default)?void 0:t.call(l);return e.animated||e.swipeable?(0,r.Wm)(ae.oF,{ref:o,loop:!1,class:ie("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:a},{default:()=>[n]}):n},i=t=>{const l=o.value;l&&l.state.active!==t&&l.swipeTo(t,{immediate:!e.inited})};return(0,r.YP)((()=>e.currentIndex),i),(0,r.bv)((()=>{i(e.currentIndex)})),(0,O.F)({swipeRef:o}),()=>(0,r.Wm)("div",{class:ie("content",{animated:e.animated||e.swipeable})},[n()])}});const[se,ce]=(0,p["do"])("tabs"),ue={type:(0,u.SQ)("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:(0,u.SI)(0),duration:(0,u.SI)(.3),animated:Boolean,ellipsis:u.J5,swipeable:Boolean,scrollspy:Boolean,offsetTop:(0,u.SI)(0),background:String,lazyRender:u.J5,lineWidth:u.Or,lineHeight:u.Or,beforeChange:Function,swipeThreshold:(0,u.SI)(5),titleActiveColor:String,titleInactiveColor:String},de=Symbol(se);var me=(0,r.aZ)({name:se,props:ue,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:l}){let o,a,n,i,u;const p=(0,s.iH)(),f=(0,s.iH)(),h=(0,s.iH)(),g=(0,s.iH)(),b=(0,q.M)(),w=(0,I.eo)(p),[x,y]=G(),{children:W,linkChildren:C}=(0,I.$E)(de),k=(0,s.qj)({inited:!1,position:"",lineStyle:{},currentIndex:-1}),S=(0,r.Fl)((()=>W.length>+e.swipeThreshold||!e.ellipsis||e.shrink)),P=(0,r.Fl)((()=>({borderColor:e.color,background:e.background}))),H=(e,t)=>{var l;return null!=(l=e.name)?l:t},F=(0,r.Fl)((()=>{const e=W[k.currentIndex];if(e)return H(e,k.currentIndex)})),B=(0,r.Fl)((()=>(0,d.LU)(e.offsetTop))),V=(0,r.Fl)((()=>e.sticky?B.value+o:0)),R=t=>{const l=f.value,o=x.value;if(!S.value||!l||!o||!o[k.currentIndex])return;const a=o[k.currentIndex].$el,n=a.offsetLeft-(l.offsetWidth-a.offsetWidth)/2;i&&i(),i=D(l,n,t?0:+e.duration)},T=()=>{const t=k.inited;(0,r.Y3)((()=>{const l=x.value;if(!l||!l[k.currentIndex]||"line"!==e.type||(0,v.xj)(p.value))return;const o=l[k.currentIndex].$el,{lineWidth:a,lineHeight:n}=e,i=o.offsetLeft+o.offsetWidth/2,r={width:(0,d.Nn)(a),backgroundColor:e.color,transform:`translateX(${i}px) translateX(-50%)`};if(t&&(r.transitionDuration=`${e.duration}s`),(0,c.Xq)(n)){const e=(0,d.Nn)(n);r.height=e,r.borderRadius=e}k.lineStyle=r}))},Z=e=>{const t=e<k.currentIndex?-1:1;while(e>=0&&e<W.length){if(!W[e].disabled)return e;e+=t}},z=(l,o)=>{const a=Z(l);if(!(0,c.Xq)(a))return;const i=W[a],r=H(i,a),s=null!==k.currentIndex;k.currentIndex!==a&&(k.currentIndex=a,o||R(),T()),r!==e.active&&(t("update:active",r),s&&t("change",r,i.title)),n&&!e.scrollspy&&(0,v.kn)(Math.ceil((0,v.U4)(p.value)-B.value))},Y=(e,t)=>{const l=W.find(((t,l)=>H(t,l)===e)),o=l?W.indexOf(l):0;z(o,t)},L=(t=!1)=>{if(e.scrollspy){const l=W[k.currentIndex].$el;if(l&&w.value){const o=(0,v.U4)(l,w.value)-V.value;a=!0,u&&u(),u=E(w.value,o,t?0:+e.duration,(()=>{a=!1}))}}},$=(l,o,a)=>{const{title:n,disabled:i}=W[o],r=H(W[o],o);i||((0,A.I)(e.beforeChange,{args:[r],done:()=>{z(o),L()}}),(0,M.BC)(l)),t("clickTab",{name:r,title:n,event:a,disabled:i})},N=e=>{n=e.isFixed,t("scroll",e)},U=e=>{(0,r.Y3)((()=>{Y(e),L(!0)}))},j=()=>{for(let e=0;e<W.length;e++){const{top:t}=(0,I.EL)(W[e].$el);if(t>V.value)return 0===e?0:e-1}return W.length-1},J=()=>{if(e.scrollspy&&!a){const e=j();z(e)}},X=()=>{if("line"===e.type&&W.length)return(0,r.Wm)("div",{class:ce("line"),style:k.lineStyle},null)},K=()=>{var t,o,a;const{type:n,border:i,sticky:s}=e,c=[(0,r.Wm)("div",{ref:s?void 0:h,class:[ce("wrap"),{[m.r5]:"line"===n&&i}]},[(0,r.Wm)("div",{ref:f,role:"tablist",class:ce("nav",[n,{shrink:e.shrink,complete:S.value}]),style:P.value,"aria-orientation":"horizontal"},[null==(t=l["nav-left"])?void 0:t.call(l),W.map((e=>e.renderTitle($))),X(),null==(o=l["nav-right"])?void 0:o.call(l)])]),null==(a=l["nav-bottom"])?void 0:a.call(l)];return s?(0,r.Wm)("div",{ref:h},[c]):c},ee=()=>{T(),(0,r.Y3)((()=>{var e,t;R(!0),null==(t=null==(e=g.value)?void 0:e.swipeRef.value)||t.resize()}))};(0,r.YP)((()=>[e.color,e.duration,e.lineWidth,e.lineHeight]),T),(0,r.YP)(v.bn,ee),(0,r.YP)((()=>e.active),(e=>{e!==F.value&&Y(e)})),(0,r.YP)((()=>W.length),(()=>{k.inited&&(Y(e.active),T(),(0,r.Y3)((()=>{R(!0)})))}));const te=()=>{Y(e.active,!0),(0,r.Y3)((()=>{k.inited=!0,h.value&&(o=(0,I.EL)(h.value).height),R(!0)}))},le=(e,l)=>t("rendered",e,l);return(0,O.F)({resize:ee,scrollTo:U}),(0,r.dl)(T),(0,Q.h)(T),(0,I.Ib)(te),_(p,T),(0,I.OR)("scroll",J,{target:w,passive:!0}),C({id:b,props:e,setLine:T,scrollable:S,onRendered:le,currentName:F,setTitleRefs:y,scrollIntoView:R}),()=>(0,r.Wm)("div",{ref:p,class:ce([e.type])},[e.sticky?(0,r.Wm)(oe,{container:p.value,offsetTop:B.value,onScroll:N},{default:()=>[K()]}):K(),(0,r.Wm)(re,{ref:g,count:W.length,inited:k.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:k.currentIndex,onChange:z},{default:()=>{var e;return[null==(e=l.default)?void 0:e.call(l)]}})])}});const ve=Symbol();var pe=l(3068);const[fe,he]=(0,p["do"])("tab"),ge=(0,r.aZ)({name:fe,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:u.Or,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:u.J5},setup(e,{slots:t}){const l=(0,r.Fl)((()=>{const t={},{type:l,color:o,disabled:a,isActive:n,activeColor:i,inactiveColor:r}=e,s="card"===l;o&&s&&(t.borderColor=o,a||(n?t.backgroundColor=o:t.color=o));const c=n?i:r;return c&&(t.color=c),t})),o=()=>{const l=(0,r.Wm)("span",{class:he("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||(0,c.Xq)(e.badge)&&""!==e.badge?(0,r.Wm)(pe.Ct,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[l]}):l};return()=>(0,r.Wm)("div",{id:e.id,role:"tab",class:[he([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:l.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[o()])}});var be=l(8101);const[we,xe]=(0,p["do"])("tab"),ye=(0,c.l7)({},M.g2,{dot:Boolean,name:u.Or,badge:u.Or,title:String,disabled:Boolean,titleClass:u.Vg,titleStyle:[String,Object],showZeroBadge:u.J5});var We=(0,r.aZ)({name:we,props:ye,setup(e,{slots:t}){const l=(0,q.M)(),o=(0,s.iH)(!1),a=(0,r.FN)(),{parent:n,index:i}=(0,I.NB)(de);if(!n)return void 0;const u=()=>{var t;return null!=(t=e.name)?t:i.value},d=()=>{o.value=!0,n.props.lazyRender&&(0,r.Y3)((()=>{n.onRendered(u(),e.title)}))},m=(0,r.Fl)((()=>{const e=u()===n.currentName.value;return e&&!o.value&&d(),e})),v=(0,s.iH)(""),p=(0,s.iH)("");(0,r.m0)((()=>{const{titleClass:t,titleStyle:l}=e;v.value=t?(0,X.C_)(t):"",p.value=l&&"string"!==typeof l?(0,X.$J)((0,X.j5)(l)):l}));const f=o=>(0,r.Wm)(ge,(0,r.dG)({key:l,id:`${n.id}-${i.value}`,ref:n.setTitleRefs(i.value),style:p.value,class:v.value,isActive:m.value,controls:l,scrollable:n.scrollable.value,activeColor:n.props.titleActiveColor,inactiveColor:n.props.titleInactiveColor,onClick:e=>o(a.proxy,i.value,e)},(0,c.ei)(n.props,["type","color","shrink"]),(0,c.ei)(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),h=(0,s.iH)(!m.value);return(0,r.YP)(m,(e=>{e?h.value=!1:(0,I.d1)((()=>{h.value=!0}))})),(0,r.YP)((()=>e.title),(()=>{n.setLine(),n.scrollIntoView()})),(0,r.JJ)(ve,m),(0,O.F)({id:l,renderTitle:f}),()=>{var e;const a=`${n.id}-${i.value}`,{animated:s,swipeable:c,scrollspy:u,lazyRender:d}=n.props;if(!t.default&&!s)return;const v=u||m.value;if(s||c)return(0,r.Wm)(be.j,{id:l,role:"tabpanel",class:xe("panel-wrapper",{inactive:h.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":a},{default:()=>{var e;return[(0,r.Wm)("div",{class:xe("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const p=o.value||u||!d,f=p?null==(e=t.default)?void 0:e.call(t):null;return(0,r.wy)((0,r.Wm)("div",{id:l,role:"tabpanel",class:xe("panel"),tabindex:v?0:-1,"aria-labelledby":a},[f]),[[J.F8,v]])}}});const Ce=(0,i.n)(We);const ke=(0,i.n)(me);const[Se,Ie]=(0,p["do"])("picker-group"),Oe=Symbol(Se),Pe=(0,c.l7)({tabs:(0,u.Ce)(),activeTab:(0,u.SI)(0),nextStepText:String},L);(0,r.aZ)({name:Se,props:Pe,emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:l}){const o=j((()=>e.activeTab),(e=>t("update:activeTab",e))),{children:a,linkChildren:n}=(0,I.$E)(Oe);n();const i=()=>+o.value<e.tabs.length-1&&e.nextStepText,s=()=>{i()?o.value=+o.value+1:t("confirm",a.map((e=>e.confirm())))},u=()=>t("cancel");return()=>{var t;const a=null==(t=l.default)?void 0:t.call(l),n=i()?e.nextStepText:e.confirmButtonText;return(0,r.Wm)("div",{class:Ie()},[(0,r.Wm)(U,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:n,onConfirm:s,onCancel:u},(0,c.ei)(l,$)),(0,r.Wm)(ke,{active:o.value,"onUpdate:active":e=>o.value=e,class:Ie("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map(((e,t)=>(0,r.Wm)(Ce,{title:e,titleClass:Ie("tab-title")},{default:()=>[null==a?void 0:a[t]]})))]})])}}});const He=(0,c.l7)({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:(0,u.SI)(44),showToolbar:u.J5,swipeDuration:(0,u.SI)(1e3),visibleOptionNum:(0,u.SI)(6)},L),Fe=(0,c.l7)({},He,{columns:(0,u.Ce)(),modelValue:(0,u.Ce)(),toolbarPosition:(0,u.SQ)("top"),columnsFieldNames:Object});var Be=(0,r.aZ)({name:f,props:Fe,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:l}){const o=(0,s.iH)(),a=(0,s.iH)(e.modelValue.slice(0)),{parent:n}=(0,I.NB)(Oe),{children:i,linkChildren:u}=(0,I.$E)(Z);u();const p=(0,r.Fl)((()=>S(e.columnsFieldNames))),f=(0,r.Fl)((()=>(0,d.LU)(e.optionHeight))),g=(0,r.Fl)((()=>w(e.columns,p.value))),x=(0,r.Fl)((()=>{const{columns:t}=e;switch(g.value){case"multiple":return t;case"cascade":return C(t,p.value,a);default:return[t]}})),k=(0,r.Fl)((()=>x.value.some((e=>e.length)))),H=(0,r.Fl)((()=>x.value.map(((e,t)=>W(e,a.value[t],p.value))))),F=(0,r.Fl)((()=>x.value.map(((e,t)=>e.findIndex((e=>e[p.value.value]===a.value[t])))))),B=(e,t)=>{if(a.value[e]!==t){const l=a.value.slice(0);l[e]=t,a.value=l}},V=()=>({selectedValues:a.value.slice(0),selectedOptions:H.value,selectedIndexes:F.value}),R=(e,l)=>{B(l,e),"cascade"===g.value&&a.value.forEach(((e,t)=>{const l=x.value[t];y(l,e,p.value)||B(t,l.length?l[0][p.value.value]:void 0)})),(0,r.Y3)((()=>{t("change",(0,c.l7)({columnIndex:l},V()))}))},T=(e,l)=>{const o={columnIndex:l,currentOption:e};t("clickOption",(0,c.l7)(V(),o)),t("scrollInto",o)},Y=()=>{i.forEach((e=>e.stopMomentum()));const e=V();return(0,r.Y3)((()=>{t("confirm",e)})),e},L=()=>t("cancel",V()),j=()=>x.value.map(((o,n)=>(0,r.Wm)(z,{value:a.value[n],fields:p.value,options:o,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:f.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>R(e,n),onClickOption:e=>T(e,n),onScrollInto:e=>{t("scrollInto",{currentOption:e,columnIndex:n})}},{option:l.option}))),J=e=>{if(k.value){const t={height:`${f.value}px`},l={backgroundSize:`100% ${(e-f.value)/2}px`};return[(0,r.Wm)("div",{class:h("mask"),style:l},null),(0,r.Wm)("div",{class:[m.pj,h("frame")],style:t},null)]}},X=()=>{const t=f.value*+e.visibleOptionNum,l={height:`${t}px`};return(0,r.Wm)("div",{ref:o,class:h("columns"),style:l},[j(),J(t)])},A=()=>{if(e.showToolbar&&!n)return(0,r.Wm)(U,(0,r.dG)((0,c.ei)(e,N),{onConfirm:Y,onCancel:L}),(0,c.ei)(l,$))};let D;(0,r.YP)(x,(e=>{e.forEach(((e,t)=>{e.length&&!y(e,a.value[t],p.value)&&B(t,b(e)[p.value.value])}))}),{immediate:!0}),(0,r.YP)((()=>e.modelValue),(e=>{(0,c.$c)(e,a.value)||(0,c.$c)(e,D)||(a.value=e.slice(0),D=e.slice(0))}),{deep:!0}),(0,r.YP)(a,(l=>{(0,c.$c)(l,e.modelValue)||(D=l.slice(0),t("update:modelValue",D))}),{immediate:!0}),(0,I.OR)("touchmove",v.PF,{target:o});const E=()=>H.value;return(0,O.F)({confirm:Y,getSelectedOptions:E}),()=>{var t,o;return(0,r.Wm)("div",{class:h()},["top"===e.toolbarPosition?A():null,e.loading?(0,r.Wm)(P.gb,{class:h("loading")},null):null,null==(t=l["columns-top"])?void 0:t.call(l),X(),null==(o=l["columns-bottom"])?void 0:o.call(l),"bottom"===e.toolbarPosition?A():null])}}});const Ve=(0,i.n)(Be);l(2939),l(9137),l(1088);var Re=l(3739);l(2471),l(6229),l(7330),l(2062);const[Te,Ze,ze]=(0,p["do"])("uploader");function Ye(e,t){return new Promise((l=>{if("file"===t)return void l();const o=new FileReader;o.onload=e=>{l(e.target.result)},"dataUrl"===t?o.readAsDataURL(e):"text"===t&&o.readAsText(e)}))}function Le(e,t){return(0,c.qo)(e).some((e=>!!e.file&&((0,c.mf)(t)?t(e.file):e.file.size>+t)))}function $e(e,t){const l=[],o=[];return e.forEach((e=>{Le(e,t)?o.push(e):l.push(e)})),{valid:l,invalid:o}}const Ne=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,Ue=e=>Ne.test(e);function je(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?Ue(e.url):"string"===typeof e.content&&0===e.content.indexOf("data:image"))}var Je=l(3649),Xe=l(7548),Ae=l(3);const De=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Ee=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),qe=(0,p["do"])("image-preview")[1],Me=2.6;var Ge=(0,r.aZ)({props:{src:String,show:Boolean,active:Number,minZoom:(0,u.ir)(u.Or),maxZoom:(0,u.ir)(u.Or),rootWidth:(0,u.ir)(Number),rootHeight:(0,u.ir)(Number),disableZoom:Boolean,closeOnClickOverlay:Boolean},emits:["scale","close","longPress"],setup(e,{emit:t,slots:l}){const o=(0,s.qj)({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),a=(0,H.o)(),n=(0,s.iH)(),i=(0,s.iH)(),c=(0,s.iH)(!1),u=(0,s.iH)(!1);let p=0;const f=(0,r.Fl)((()=>{const{scale:e,moveX:t,moveY:l,moving:a,zooming:n,initializing:i}=o,r={transitionDuration:n||a||i?"0s":".3s"};return(1!==e||u.value)&&(r.transform=`matrix(${e}, 0, 0, ${e}, ${t}, ${l})`),r})),h=(0,r.Fl)((()=>{if(o.imageRatio){const{rootWidth:t,rootHeight:l}=e,a=c.value?l/o.imageRatio:t;return Math.max(0,(o.scale*a-t)/2)}return 0})),g=(0,r.Fl)((()=>{if(o.imageRatio){const{rootWidth:t,rootHeight:l}=e,a=c.value?l:t*o.imageRatio;return Math.max(0,(o.scale*a-l)/2)}return 0})),b=(l,a)=>{var i;if(l=(0,d.uZ)(l,+e.minZoom,+e.maxZoom+1),l!==o.scale){const r=l/o.scale;if(o.scale=l,a){const e=(0,I.EL)(null==(i=n.value)?void 0:i.$el),t={x:.5*e.width,y:.5*e.height},l=o.moveX-(a.x-e.left-t.x)*(r-1),s=o.moveY-(a.y-e.top-t.y)*(r-1);o.moveX=(0,d.uZ)(l,-h.value,h.value),o.moveY=(0,d.uZ)(s,-g.value,g.value)}else o.moveX=0,o.moveY=u.value?p:0;t("scale",{scale:l,index:e.active})}},w=()=>{b(1)},x=()=>{const e=o.scale>1?1:2;b(e,2===e||u.value?{x:a.startX.value,y:a.startY.value}:void 0)};let y,W,C,k,S,O,F,B,V=!1;const R=t=>{const{touches:l}=t;if(y=l.length,2===y&&e.disableZoom)return;const{offsetX:n}=a;a.start(t),W=o.moveX,C=o.moveY,B=Date.now(),V=!1,o.moving=1===y&&(1!==o.scale||u.value),o.zooming=2===y&&!n.value,o.zooming&&(k=o.scale,S=De(l))},T=e=>{const{touches:t}=e;if(a.move(e),o.moving){const{deltaX:t,deltaY:l}=a,n=t.value+W,i=l.value+C;if((n>h.value||n<-h.value)&&!V&&a.isHorizontal())return void(o.moving=!1);V=!0,(0,v.PF)(e,!0),o.moveX=(0,d.uZ)(n,-h.value,h.value),o.moveY=(0,d.uZ)(i,-g.value,g.value)}if(o.zooming&&((0,v.PF)(e,!0),2===t.length)){const e=De(t),l=k*e/S;O=Ee(t),b(l,O)}},Z=l=>{var o;if(y>1)return;const{offsetX:n,offsetY:r}=a,s=Date.now()-B,c=250;if(n.value<m.mH&&r.value<m.mH)if(s<c)if(F)clearTimeout(F),F=null,x();else{if(!e.closeOnClickOverlay&&l.target===(null==(o=i.value)?void 0:o.$el))return;F=setTimeout((()=>{t("close"),F=null}),c)}else s>m.Cp&&t("longPress")},z=t=>{let l=!1;if((o.moving||o.zooming)&&(l=!0,o.moving&&W===o.moveX&&C===o.moveY&&(l=!1),!t.touches.length)){o.zooming&&(o.moveX=(0,d.uZ)(o.moveX,-h.value,h.value),o.moveY=(0,d.uZ)(o.moveY,-g.value,g.value),o.zooming=!1),o.moving=!1,W=0,C=0,k=1,o.scale<1&&w();const t=+e.maxZoom;o.scale>t&&b(t,O)}(0,v.PF)(t,l),Z(t),a.reset()},Y=()=>{const{rootWidth:t,rootHeight:l}=e,a=l/t,{imageRatio:n}=o;c.value=o.imageRatio>a&&n<Me,u.value=o.imageRatio>a&&n>=Me,u.value&&(p=(n*t-l)/2,o.moveY=p,o.initializing=!0,(0,I.Wn)((()=>{o.initializing=!1}))),w()},L=e=>{const{naturalWidth:t,naturalHeight:l}=e.target;o.imageRatio=l/t,Y()};return(0,r.YP)((()=>e.active),w),(0,r.YP)((()=>e.show),(e=>{e||w()})),(0,r.YP)((()=>[e.rootWidth,e.rootHeight]),Y),(0,I.OR)("touchmove",T,{target:(0,r.Fl)((()=>{var e;return null==(e=i.value)?void 0:e.$el}))}),()=>{const t={loading:()=>(0,r.Wm)(P.gb,{type:"spinner"},null)};return(0,r.Wm)(be.j,{ref:i,class:qe("swipe-item"),onTouchstartPassive:R,onTouchend:z,onTouchcancel:z},{default:()=>[l.image?(0,r.Wm)("div",{class:qe("image-wrap")},[l.image({src:e.src})]):(0,r.Wm)(Ae.Ee,{ref:n,src:e.src,fit:"contain",class:qe("image",{vertical:c.value}),style:f.value,onLoad:L},t)]})}}});const[Qe,_e]=(0,p["do"])("image-preview"),Ke=["show","teleport","transition","overlayStyle","closeOnPopstate"],et={show:Boolean,loop:u.J5,images:(0,u.Ce)(),minZoom:(0,u.SI)(1/3),maxZoom:(0,u.SI)(3),overlay:u.J5,closeable:Boolean,showIndex:u.J5,className:u.Vg,closeIcon:(0,u.SQ)("clear"),transition:String,beforeClose:Function,overlayClass:u.Vg,overlayStyle:Object,swipeDuration:(0,u.SI)(300),startPosition:(0,u.SI)(0),showIndicators:Boolean,closeOnPopstate:u.J5,closeOnClickOverlay:u.J5,closeIconPosition:(0,u.SQ)("top-right"),teleport:[String,Object]};var tt=(0,r.aZ)({name:Qe,props:et,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:l}){const o=(0,s.iH)(),a=(0,s.qj)({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),i=()=>{if(o.value){const e=(0,I.EL)(o.value.$el);a.rootWidth=e.width,a.rootHeight=e.height,o.value.resize()}},u=e=>t("scale",e),d=e=>t("update:show",e),p=()=>{(0,A.I)(e.beforeClose,{args:[a.active],done:()=>d(!1)})},f=e=>{e!==a.active&&(a.active=e,t("change",e))},h=()=>{if(e.showIndex)return(0,r.Wm)("div",{class:_e("index")},[l.index?l.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},g=()=>{if(l.cover)return(0,r.Wm)("div",{class:_e("cover")},[l.cover()])},b=()=>{a.disableZoom=!0},w=()=>{a.disableZoom=!1},x=()=>(0,r.Wm)(ae.oF,{ref:o,lazyRender:!0,loop:e.loop,class:_e("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:f,onDragEnd:w,onDragStart:b},{default:()=>[e.images.map(((o,n)=>(0,r.Wm)(Ge,{src:o,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,disableZoom:a.disableZoom,closeOnClickOverlay:e.closeOnClickOverlay,onScale:u,onClose:p,onLongPress:()=>t("longPress",{index:n})},{image:l.image})))]}),y=()=>{if(e.closeable)return(0,r.Wm)(Je.JO,{role:"button",name:e.closeIcon,class:[_e("close-icon",e.closeIconPosition),m.e9],onClick:p},null)},W=()=>t("closed"),C=(e,t)=>{var l;return null==(l=o.value)?void 0:l.swipeTo(e,t)};return(0,O.F)({swipeTo:C}),(0,r.bv)(i),(0,r.YP)([v.bn,v.uK],i),(0,r.YP)((()=>e.startPosition),(e=>f(+e))),(0,r.YP)((()=>e.show),(l=>{const{images:o,startPosition:n}=e;l?(f(+n),(0,r.Y3)((()=>{i(),C(+n,{immediate:!0})}))):t("close",{index:a.active,url:o[a.active]})})),()=>(0,r.Wm)(n.GI,(0,r.dG)({class:[_e(),e.className],overlayClass:[_e("overlay"),e.overlayClass],onClosed:W,"onUpdate:show":d},(0,c.ei)(e,Ke)),{default:()=>[y(),x(),h(),g()]})}});let lt;const ot={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function at(){({instance:lt}=(0,Xe.H)({setup(){const{state:e,toggle:t}=(0,Xe.o)(),l=()=>{e.images=[]};return()=>(0,r.Wm)(tt,(0,r.dG)(e,{onClosed:l,"onUpdate:show":t}),null)}}))}const nt=(e,t=0)=>{if(c._f)return lt||at(),e=Array.isArray(e)?{images:e,startPosition:t}:e,lt.open((0,c.l7)({},ot,e)),lt};var it=(0,r.aZ)({props:{name:u.Or,item:(0,u.ir)(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:l}){const o=()=>{const{status:t,message:l}=e.item;if("uploading"===t||"failed"===t){const e="failed"===t?(0,r.Wm)(Je.JO,{name:"close",class:Ze("mask-icon")},null):(0,r.Wm)(P.gb,{class:Ze("loading")},null),o=(0,c.Xq)(l)&&""!==l;return(0,r.Wm)("div",{class:Ze("mask")},[e,o&&(0,r.Wm)("div",{class:Ze("mask-message")},[l])])}},a=l=>{const{name:o,item:a,index:n,beforeDelete:i}=e;l.stopPropagation(),(0,A.I)(i,{args:[a,{name:o,index:n}],done:()=>t("delete")})},n=()=>t("preview"),i=()=>t("reupload"),s=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=l["preview-delete"];return(0,r.Wm)("div",{role:"button",class:Ze("preview-delete",{shadow:!e}),tabindex:0,"aria-label":ze("delete"),onClick:a},[e?e():(0,r.Wm)(Je.JO,{name:"cross",class:Ze("preview-delete-icon")},null)])}},u=()=>{if(l["preview-cover"]){const{index:t,item:o}=e;return(0,r.Wm)("div",{class:Ze("preview-cover")},[l["preview-cover"]((0,c.l7)({index:t},o))])}},m=()=>{const{item:t,lazyLoad:l,imageFit:o,previewSize:a,reupload:s}=e;return je(t)?(0,r.Wm)(Ae.Ee,{fit:o,src:t.objectUrl||t.content||t.url,class:Ze("preview-image"),width:Array.isArray(a)?a[0]:a,height:Array.isArray(a)?a[1]:a,lazyLoad:l,onClick:s?i:n},{default:u}):(0,r.Wm)("div",{class:Ze("file"),style:(0,d.Xn)(e.previewSize)},[(0,r.Wm)(Je.JO,{class:Ze("file-icon"),name:"description"},null),(0,r.Wm)("div",{class:[Ze("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),u()])};return()=>(0,r.Wm)("div",{class:Ze("preview")},[m(),o(),s()])}});const rt={name:(0,u.SI)(""),accept:(0,u.SQ)("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:(0,u.SI)(1/0),imageFit:(0,u.SQ)("cover"),resultType:(0,u.SQ)("dataUrl"),uploadIcon:(0,u.SQ)("photograph"),uploadText:String,deletable:u.J5,reupload:Boolean,afterRead:Function,showUpload:u.J5,modelValue:(0,u.Ce)(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:u.J5,previewOptions:Object,previewFullImage:u.J5,maxSize:{type:[Number,String,Function],default:1/0}};var st=(0,r.aZ)({name:Te,props:rt,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:l}){const o=(0,s.iH)(),a=[],n=(0,s.iH)(-1),i=(t=e.modelValue.length)=>({name:e.name,index:t}),u=()=>{o.value&&(o.value.value="")},m=l=>{if(u(),Le(l,e.maxSize)){if(!Array.isArray(l))return void t("oversize",l,i());{const o=$e(l,e.maxSize);if(l=o.valid,t("oversize",o.invalid,i()),!l.length)return}}if(l=(0,s.qj)(l),n.value>-1){const o=[...e.modelValue];o.splice(n.value,1,l),t("update:modelValue",o),n.value=-1}else t("update:modelValue",[...e.modelValue,...(0,c.qo)(l)]);e.afterRead&&e.afterRead(l,i())},v=t=>{const{maxCount:l,modelValue:o,resultType:a}=e;if(Array.isArray(t)){const e=+l-o.length;t.length>e&&(t=t.slice(0,e)),Promise.all(t.map((e=>Ye(e,a)))).then((e=>{const l=t.map(((t,l)=>{const o={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};return e[l]&&(o.content=e[l]),o}));m(l)}))}else Ye(t,a).then((e=>{const l={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};e&&(l.content=e),m(l)}))},p=t=>{const{files:l}=t.target;if(e.disabled||!l||!l.length)return;const o=1===l.length?l[0]:[].slice.call(l);if(e.beforeRead){const t=e.beforeRead(o,i());if(!t)return void u();if((0,c.tI)(t))return void t.then((e=>{v(e||o)})).catch(u)}v(o)};let f;const h=()=>t("closePreview"),g=t=>{if(e.previewFullImage){const l=e.modelValue.filter(je),o=l.map((e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,a.push(e.url)),e.url))).filter(Boolean);f=nt((0,c.l7)({images:o,startPosition:l.indexOf(t),onClose:h},e.previewOptions))}},b=()=>{f&&f.close()},w=(l,o)=>{const a=e.modelValue.slice(0);a.splice(o,1),t("update:modelValue",a),t("delete",l,i(o))},x=e=>{S(),n.value=e},y=(o,a)=>{const n=["imageFit","deletable","reupload","previewSize","beforeDelete"],s=(0,c.l7)((0,c.ei)(e,n),(0,c.ei)(o,n,!0));return(0,r.Wm)(it,(0,r.dG)({item:o,index:a,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",o,i(a)),onDelete:()=>w(o,a),onPreview:()=>g(o),onReupload:()=>x(a)},(0,c.ei)(e,["name","lazyLoad"]),s),(0,c.ei)(l,["preview-cover","preview-delete"]))},W=()=>{if(e.previewImage)return e.modelValue.map(y)},C=e=>t("clickUpload",e),k=()=>{if(e.modelValue.length>=+e.maxCount&&!e.reupload)return;const t=e.modelValue.length>=+e.maxCount&&e.reupload,a=e.readonly?null:(0,r.Wm)("input",{ref:o,type:"file",class:Ze("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===n.value,disabled:e.disabled,onChange:p},null);return l.default?(0,r.wy)((0,r.Wm)("div",{class:Ze("input-wrapper"),onClick:C},[l.default(),a]),[[J.F8,!t]]):(0,r.wy)((0,r.Wm)("div",{class:Ze("upload",{readonly:e.readonly}),style:(0,d.Xn)(e.previewSize),onClick:C},[(0,r.Wm)(Je.JO,{name:e.uploadIcon,class:Ze("upload-icon")},null),e.uploadText&&(0,r.Wm)("span",{class:Ze("upload-text")},[e.uploadText]),a]),[[J.F8,e.showUpload&&!t]])},S=()=>{o.value&&!e.disabled&&o.value.click()};return(0,r.Jd)((()=>{a.forEach((e=>URL.revokeObjectURL(e)))})),(0,O.F)({chooseFile:S,closeImagePreview:b}),(0,I.aM)((()=>e.modelValue)),()=>(0,r.Wm)("div",{class:Ze()},[(0,r.Wm)("div",{class:Ze("wrapper",{disabled:e.disabled})},[W(),k()])])}});const ct=(0,i.n)(st);l(7179);var ut=l(9420);l(2097);const dt={class:"van-hairline--surround"},mt={class:"register_form"},vt={style:{margin:"16px"}};function pt(e,t,l,i,s,c){const u=ut.l2,d=ct,m=Re.gN,v=Ve,p=n.GI,f=a.TS,h=o.zx;return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(u,{class:"nav",title:"用户注册","left-text":"返回","left-arrow":"",onClickLeft:c.onClickLeft},null,8,["onClickLeft"]),(0,r._)("div",dt,[(0,r.Wm)(d,{modelValue:s.fileList,"onUpdate:modelValue":t[0]||(t[0]=e=>s.fileList=e),"max-count":"1",style:{"margin-top":"45px"},"before-read":c.beforeRead,"after-read":c.afterRead,class:"uploader",ref:"file","preview-full-image":!1,accept:"image/*"},null,8,["modelValue","before-read","after-read"]),(0,r._)("div",mt,[(0,r.Wm)(f,{inset:""},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:s.params.userName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.params.userName=e),label:"用户名","left-icon":"user-circle-o","right-icon":"warning-o",placeholder:"请输入用户名"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.nickName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.params.nickName=e),label:"昵称","left-icon":"user-circle-o","right-icon":"warning-o",placeholder:"请输入昵称"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.password,"onUpdate:modelValue":t[3]||(t[3]=e=>s.params.password=e),clearable:"",label:"密码","left-icon":"eye-o",placeholder:"请输入密码"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.password2,"onUpdate:modelValue":t[4]||(t[4]=e=>s.params.password2=e),clearable:"",label:"确认密码","left-icon":"eye-o",placeholder:"请再输入一遍密码"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.email,"onUpdate:modelValue":t[5]||(t[5]=e=>s.params.email=e),clearable:"",label:"邮箱","left-icon":"envelop-o",placeholder:"请输入有效邮箱账号"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.phone,"onUpdate:modelValue":t[6]||(t[6]=e=>s.params.phone=e),type:"tel",clearable:"",label:"电话号码","left-icon":"phone-o",placeholder:"请输入正确11位电话号码"},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.question,"onUpdate:modelValue":t[7]||(t[7]=e=>s.question=e),"is-link":"",readonly:"",name:"picker",clearable:"",label:"密保问题","left-icon":"warn-o",placeholder:"请点击选择问题",onClick:t[8]||(t[8]=e=>s.showPicker=!0)},null,8,["modelValue"]),(0,r.Wm)(m,{modelValue:s.params.answer,"onUpdate:modelValue":t[9]||(t[9]=e=>s.params.answer=e),clearablelabel:"问题答案",label:"密保答案","left-icon":"edit",placeholder:"请输入问题答案"},null,8,["modelValue"]),(0,r.Wm)(p,{show:s.showPicker,"onUpdate:show":t[11]||(t[11]=e=>s.showPicker=e),position:"bottom"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{columns:s.columns,ref:"pickerRef",onConfirm:s.onConfirm,onCancel:t[10]||(t[10]=e=>s.showPicker=!1)},null,8,["columns","onConfirm"])])),_:1},8,["show"])])),_:1})]),(0,r._)("div",vt,[(0,r.Wm)(h,{round:"",block:"",type:"primary","native-type":"submit",onClick:c.submit,color:"rgba(34,148,83,0.67)"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 注册 ")])),_:1},8,["onClick"])])])],64)}var ft=l(7625),ht=l(4161),gt=l(868);const bt=[{text:"你的生日是",value:"birthday"},{text:"你的宠物的名字",value:"petName"},{text:"你父亲或母亲姓名",value:"parentName"},{text:"你小学学校名字",value:"school"},{text:"你高中学校名字",value:"highSchool"}],wt=(0,s.iH)(!1),xt=(0,s.iH)(""),yt=({selectedOptions:e})=>{wt.value=!1,xt.value=e[0].text};var Wt={name:"App",data(){return{fileList:[],imageData:{},isShow:!1,showList:!1,params:{userName:"",avatar:"",nickName:"",password:"",password2:"",email:"",phone:"",question:"",answer:""},store:ft.h,columns:bt,onConfirm:yt,question:xt,showPicker:wt}},mounted(){},methods:{onClickLeft(){this.$router.go(-1)},submit(){let e=this;this.params.question=xt,ht.Z.post("/user/register",this.params).then((t=>{console.log(t),3001===t.data.code?(this.store.userInfo=t.data.data,(0,gt.XA)(t.data.msg),setTimeout((function(){console.log("跳转"),e.$router.push("/login")}),2e3)):(0,gt.LJ)(t.data.msg)})),console.log(this.params)},beforeRead(e){const t="image/jpeg"===e.type,l="image/png"===e.type,o="image/gif"===e.type;console.log("图片类型："+e.type);const a=e.size/1024/1024<1;return t||l||o||(0,gt.LJ)("上传头像图片只能是 JPG/PNG/GIF 格式!"),a||(0,gt.LJ)("上传头像图片大小不能超过 1MB!"),a},afterRead(e){let t=this;console.log(e);const l=new FormData;l.append("file",e.file),ht.Z.post("/user/upload",l,"",{headers:{"content-type":"multipart/form-data"}}).then((e=>{1001===e.data.code?(console.log("上传成功!!!!!!!!!!!!!!!!!!!"),console.log(e),t.params.avatar=e.data.data.filePath,console.log(">>>>>>>头像地址："+t.params.avatar)):(0,gt.LJ)(e.data.msg)}))}},components:{}},Ct=l(89);const kt=(0,Ct.Z)(Wt,[["render",pt]]);var St=kt}}]);
//# sourceMappingURL=504.3717097f.js.map